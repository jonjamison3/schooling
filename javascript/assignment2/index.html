<!DOCTYPE html>
<html lang="en">
<head>
<title>Jon Jamison's Assignment 2</title>
</head>

<body>
	<h1>RVCC Pizzeria</h1>
	<div style="width:60%;min-width:500px;">
	Name: <input type="text" id="txtName">
	<p>
		Pickup:<input type="radio" id="rbPickup" name="origin" value="Pick-up">
		Delivery:<input type="radio" id="rbDelivery" name="origin" value="Delivery">
	</p>
	<p>
		Style:
		<select id="ddlStyle">
			<option>Deep Dish</option>
			<option>Tomato Pie</option>
			<option>Thin Crust</option>
			<option>Stuffed Crust</option>
		</select>
		
		Size:
		<select id="ddlSize">
			<option>Xtra Large</option>
			<option>Large</option>
			<option>Medium</option>
			<option>Small</option>
		</select>
	</p>
	<p>
	Toppings:
		<input type="checkbox" id="cbPepperoni" name="cbPepperoni" value="Pepperoni">Pepperoni
		<input type="checkbox" id="cbBlackOlives" name="cbBlackOlives" value="Black Olives">Black Olives
	</p>
	<p style="margin-left:5em;">
		<input type="checkbox" id="cbMeatball" name="cbMeatball" value="Meatball">Meatball
		<input type="checkbox" id="cbSausage" name="cbSausage" value="Sausage">Sausage
	</p>
	<br>
	<input type="button" id="btnConfirm" name="btnConfirm" value="Confirm Order" style="width:40%;margin:auto;">
	<input type="button" id="btnReset" name="btnReset" value="Reset" style="width:40%;margin:auto;">
	<br>
	<br>
	<textarea id="txtReturn" name="txtReturn" style="width:80%;height:8em;margin:auto;" disabled="disabled"></textarea>
	</div>
	<script type="text/javascript">
		
		window.onload = function(){
			$('btnConfirm').onclick = submitOrder;
			$('btnReset').onclick=reset;
		}
		var submitOrder = function (){

			var answerText="";
			if(!$("rbPickup").checked&&!$("rbDelivery").checked){
				alert("Please indicate whether your order should be picked up or delivered.");
				$("rbPickup").focus();
			}
			else{
				
				var name=$('txtName').value;
				//name = name.replace(/\s+g,'');
				if(name==""){
					alert("Please enter your name.");
					txtName.focus();
				} 
				else {	
					if($("rbDelivery").checked){
						answerText+=$("rbDelivery").value;
					}
					else{
						answerText+=$("rbPickup").value;
					}

					var toppings = [];
					if($('cbPepperoni').checked){
						toppings.push(cbPepperoni.value);
					}
					if($('cbBlackOlives').checked){
						toppings.push(cbBlackOlives.value);
					}
					if($('cbMeatball').checked){
						toppings.push(cbMeatball.value);
					}
					if($('cbSausage').checked){
						toppings.push(cbSausage.value);
					}		

					answerText += " for "+ name + ":" + "\n"
										+$('ddlSize').value + ", "
										+$('ddlStyle').value + " pizza";

					for(i=0;i<toppings.length;i++){
						answerText += "\n+"+(toppings[i]);
					} 
					
					var confirmation = confirm(answerText+"\n*************\nIs this correct?");
					if(confirmation){
						$('txtReturn').value = answerText;
					}
					else{
						$('txtReturn').value = "***Please complete and resubmit your order.***";
					}					
				}
			}
		}
		var reset = function(){
				answerText = "";
				$('txtName').value = "";
				$('rbPickup').checked = false;
				$('rbDelivery').checked = false;
				$('cbSausage').checked = false;
				$('cbMeatball').checked = false;
				$('cbPepperoni').checked = false;
				$('cbBlackOlives').checked = false;
				$('txtReturn').value = "";
				txtName.focus();
		}
		var $ = function(id){
			return document.getElementById(id);
		}
	</script>
</body>