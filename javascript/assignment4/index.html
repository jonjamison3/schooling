<!doctype html>
<head>
  <style>
    body{
      margin: auto;
      width: 835px;
    }
    div{
      padding: 2px;
      border:1px solid black;
    }
    #left, #right{
      margin: auto;
      width: 49%;
      display: inline-block;
    }
    #right{
      float: right;
    }
  </style>
</head>
<body>
  <div id="wrapper">
    <div id="left">
      <h3>Assignment 4a</h3>
      <p>Calculate Ending cash value table for $1000 using various interest rates over 10 years</p>
      <p>Interest rates are 5,6,7,8,9 and 10%</p>
      <input id="btnLeft" type="button" id="btnLeft" value="Calculate"/>
      <table id="tblLeft" border="1">
        <tr><th>Year</th><th>Amount on Deposit</th><th>Interest Rate</th></tr>
      </table>
    </div>
    <div id="right">
        <h3>Assignment 4b</h3>
        <p>Calculate Ending cash value table for $1000 over 10 years using selected interest rate</p>
        <input type="radio" id="rad5" name="interestRate" value="5">5%</input>
        <input type="radio" id="rad6" name="interestRate" value="6">6%</input>
        <input type="radio" id="rad7" name="interestRate" value="7">7%</input>
        <input type="radio" id="rad8" name="interestRate" value="8">8%</input>
        <input type="radio" id="rad9" name="interestRate" value="9">9%</input>
        <input type="radio" id="rad10" name="interestRate" value="10">10%</input>
        <br>
        <br>
        <input type="button" id="btnRight" value="Calculate"/>
        <table id="tblRight" border="1">
          <tr><th>Year</th><th>Amount on Deposit</th><th>Interest Rate</th></tr>
        </table>
    </div>
  </div>
<script>
  window.onload = function(){
    $('btnLeft').onclick = tableCalc;
    $('btnRight').onclick = tableCalc;
  };
  function tableCalc(){
    var rows = this.nextElementSibling.getElementsByTagName('tr');
    //assign rows to array for if check
    if(this.id=='btnLeft'){
      //check to see if output has already been provided
      if(rows.length==1){
        //iterating 5-10 per assignment spec
        for(var i=5;i<11;i++){
          //running calculation and appending resulting html strings to html of table
          $('tblLeft').innerHTML+=rowCalc(i);
        }
      }
    }else if(this.id=='btnRight'){
      //table reset on each call
      if(rows.length>1){
        $('tblRight').innerHTML = "<tr><th>Year</th><th>Amount on Deposit</th><th>Interest Rate</th></tr>";
      }
      var radios = document.getElementsByName('interestRate');
      //iterate through options looking for checked rate
      for (var i=0; i<radios.length; i++){
        if (radios[i].checked){
          //should we find one, use rate found for math and exit loop
          $('tblRight').innerHTML += rowCalc(radios[i].value);
          break;
        }
        //check for reaching end of array without checked input
        if(radios[i] == radios[radios.length-1]){
          //inform the user that input is required and direct to first input option
          alert("You must select a rate to proceed");
          radios[0].focus();
        }
      }
    }
    function rowCalc(rate){
      //initialize variables, principal of $1000 used per assignment spec
      var result = "";
      var cash = 1000;
      //create 10 rows each function call
      for(var i=1;i<11;i++){
        //doing the math and assigning to current cash value
        cash *= (1+rate/100);
        //returning result as table row in html
        result += "<tr><td>" + i + "</td><td>" + cash.toFixed(2) + "</td><td>" + (rate/100).toFixed(2) + "</td></tr>";
      }
      return result;
    }
  }
  //global selection function used in class
  function $(id){
    return document.getElementById(id);
  }
</script>
</body>
</html>
